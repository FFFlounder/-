clear all;
clf;
a=fix(rand(1,10)*2);
fs=2000;
x=0:9;
y=[a;a]
y1=y(:);
x1=x+0.9999
x2=[x;x1]
x3=x2(:)
subplot(311);
plot(x3,y1);
title('输入信号');
xlim([0,10]);
ylim([-2,2]);
dt=1/fs;
f1=15;
f2=30;
g1=a;
g2=~a;
g11=(ones(1,2000))'*g1;
g1a=g11(:)';
g21=(ones(1,2000))'*g2;
g2a=g21(:)';
t=0:dt:10-dt;
n=length(t);
fsk1=g1a.*cos(2*pi*f1*t);
fsk2=g2a.*cos(2*pi*f2*t);
fsk=fsk1+fsk2;
Ffsk=fft(fsk);
F=Ffsk(1:n/2+1);
fs=fs*(0:n/2)/n;
subplot(3,1,2);
plot(t,fsk);
title('fsk调制信号');
subplot(3,1,3);
plot(fs,abs(F));
title('调制信号频谱图');
xlim([0 120]);
